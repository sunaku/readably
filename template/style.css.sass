$all_fg_color: DarkSlateGray
$all_bg_color: WhiteSmoke
$border_color: Gainsboro
$subtle_color: SlateGray
$target_color: Crimson
$a_link_color: RoyalBlue
$a_seen_color: MediumOrchid

=anchor_target
  color: $target_color
  font-weight: bolder

  &:before
    content: '\2605' // &starf;
    font-size: xx-large
    float: left

body
  color: $all_fg_color
  background-color: $all_bg_color

article
  margin: auto
  max-width: 66ch
  text-align: justify
  line-height: 150%

  header, footer
    text-align: center

  header
    margin-bottom: 2em

    .navigation
      margin-bottom: 0.5em

      a
        margin: 0.25em
        opacity: 0.5
        text-decoration: none

        &:hover
          opacity: inherit

        &:not([href])
          visibility: hidden

    .title
      font-size: xx-large
      line-height: 1.5em

    .update_count a
      font-size: larger
      font-weight: bolder
      text-decoration: none

  .category, .credits
    color: $subtle_color

  .content
    .table-of-contents
      border: thick dotted $border_color
      padding-top: 1em
      padding-bottom: 1em

    img, video, audio, embed, iframe
      margin: auto
      display: block
      // fit media elements within their parent container
      // http://unstoppablerobotninja.com/entry/fluid-images
      max-width: 100%
      max-height: 100%

    h1, h2, h3, h4, h5, h6
      margin-top: 2em

    p + p
      text-indent: 2em

  hr
    visibility: hidden

  blockquote
    color: $subtle_color
    font-size: larger
    font-style: italic
    line-height: 1.5em

  pre
    line-height: 100%
    padding-left: 1.5em

    &.highlight
      font-weight: lighter
      background-color: inherit

      .c, .cm, .c1, .cs, .cd
        // turn off italics on comments
        font-style: normal

  dt, em, code:not(.highlight)
    font-weight: bolder

  ol > li
    list-style-type: decimal

    ol > li
      list-style-type: lower-alpha

      ol > li
        list-style-type: lower-roman

        ol > li
          list-style-type: upper-alpha

          ol > li
            list-style-type: upper-roman

            ol > li
              list-style-type: lower-greek

  table
    margin: auto
    border-collapse: collapse

    tr
      border-bottom: thin solid $border_color

      th, td
        margin: none
        padding: 0.5em
        text-align: center

  nav.entries > ul > li
    margin-top: 1em

    // when user follows link to index page from an entry
    // they are placed at its location in the entry list
    &:target > .title > a
      +anchor_target

  a
    img
      border: none

    &:link
      color: $a_link_color

    &:visited
      color: $a_seen_color

    &:hover
      color: $target_color

    &.permalink, &.uplink
      text-decoration: none
      visibility: hidden
      font-size: xx-large

    &.downlink:target
      +anchor_target

  *

    // reveal permalink on hover even if non-target
    &:hover
      > a.permalink
        visibility: visible

    // always reveal permalink and uplink on target
    &:target
      > a.permalink, > a.uplink
        visibility: visible

      > a.permalink
        color: $target_color

// http://support.intensedebate.com/css-documentation/
#idc-container-parent #idc-container
  &, & div
    // use same font size as the rest of the web page
    font-size: inherit

// intense.js wraps the zoomed image inside a <figure>
figure > img
  cursor: initial
  max-width: initial
  max-height: initial

@media print
  article
    hr, .navigation, .comments, footer
      display: none !important

  a
    text-decoration: none

  // show destination URL for external hyperlinks
  a[href]:not([href^='#']):after
    content: ' ' attr(href) ' '
    font-family: monospace
